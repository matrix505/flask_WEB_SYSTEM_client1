{% extends 'base.html' %}

{% block title %}Edit Homepage{% endblock %}

{% block content %}
<div style="width: 100%; padding: 20px;">
    <div style="margin-bottom: 30px;">
        <h1 style="margin: 0 0 10px 0; color: #333;">Edit Homepage Content</h1>
        <p style="margin: 0; color: #666;">Update the content displayed on the homepage.</p>
    </div>

    <div style="background: white; padding: 30px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 30px;">
        <h3 style="margin: 0 0 20px 0; color: #333;">Profile Image</h3>
        <form method="POST" action="{{ url_for('admin_upload_profile') }}" enctype="multipart/form-data" onsubmit="return confirm('Upload new profile image?')">
            <div style="margin-bottom: 20px;">
                <label for="profile_image" style="display: block; margin-bottom: 10px; font-weight: 600; color: #333;">Select Image (PNG, JPG, JPEG)</label>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <img src="{{ url_for('static', filename='images/profile.png') }}?t={{ now }}" alt="Current Profile" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 2px solid #ddd;">
                    <input type="file" id="profile_image" name="profile_image" accept="image/png, image/jpeg, image/jpg" style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
            </div>
            <button type="submit" style="padding: 10px 20px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600;">Upload Image</button>
        </form>
    </div>

    <div style="background: white; padding: 30px; border: 1px solid #ddd; border-radius: 8px;">
        <h3 style="margin: 0 0 20px 0; color: #333;">Homepage Text Content</h3>
        <form method="POST" action="{{ url_for('admin_content') }}" onsubmit="return confirm('Save changes to homepage?')">
            <div style="margin-bottom: 20px;">
                <label for="site_title" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Site Title</label>
                <input type="text" id="site_title" name="site_title" value="{{ content.get('site_title', '') }}" placeholder="Welcome to my Website!" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
            </div>

            <div style="margin-bottom: 20px;">
                <label for="tagline" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Quote / Tagline</label>
                <input type="text" id="tagline" name="tagline" value="{{ content.get('tagline', '') }}" placeholder="Hello! I am a passionate developer." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
            </div>

            <div style="margin-bottom: 20px;">
                <label for="about_me" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">About Me / Description</label>
                <textarea id="about_me" name="about_me" rows="4" placeholder="Write something about yourself..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; resize: vertical;">{{ content.get('about_me', '') }}</textarea>
            </div>

            <div style="margin-bottom: 20px;">
                <label for="dream_job_title" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Dream Job Title</label>
                <input type="text" id="dream_job_title" name="dream_job_title" value="{{ content.get('dream_job_title', '') }}" placeholder="My Dream Job" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;">
            </div>

            <div style="margin-bottom: 30px;">
                <label for="dream_job_text" style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Dream Job Description</label>
                <textarea id="dream_job_text" name="dream_job_text" rows="3" placeholder="Describe your dream job..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; resize: vertical;">{{ content.get('dream_job_text', '') }}</textarea>
            </div>

            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                <button type="submit" style="padding: 12px 24px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600;">Save Changes</button>
                <a href="{{ url_for('index') }}" target="_blank" style="padding: 12px 24px; background: #6c757d; color: white; text-decoration: none; border-radius: 4px; font-weight: 600;">Preview Homepage</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
